<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xuanchen.system.sysuserdept.mapper.SysUserDeptMapper">
    <select id="listDeptUser" parameterType="String" resultType="com.xuanchen.system.sysuserdept.entity.SysUserDept">
        SELECT
            sys_user_dept.id,
            sys_user_dept.dept_id,
            sys_dept.dept_code,
            sys_dept.dept_name,
            sys_user_dept.user_id,
            sys_user.user_name,
            sys_user.nick_name
        FROM
            sys_user_dept
            LEFT JOIN sys_user ON sys_user.id = sys_user_dept.user_id
            LEFT JOIN sys_dept ON sys_dept.dept_code = sys_user_dept.dept_id
        WHERE
            sys_user_dept.dept_id = #{deptCode}
    </select>
</mapper>